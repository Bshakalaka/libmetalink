.TH "METALINK_PARSE_FILE" "3" "10/21/2008" "libmetalink 0.0.0" "libmetalink Manual"
.SH "NAME"
metalink_parse_file, metalink_parse_fp, metalink_parse_fd, metalink_parse_memory \- Parse Metalink file and create metalink_t object.
.SH "SYNOPSIS"
.B #include <metalink/metalink_parser.h>
.sp
.B metalink_error_t metalink_parse_file(const char *filename, metalink_t **res);
.br
.B metalink_error_t metalink_parse_fp(FILE *docfp, metalink_t **res);
.br
.B metalink_error_t metalink_parse_fd(int docfd, metalink_t **res);
.br
.B metalink_error_t metalink_parse_memory(const char *buf, size_t len, metalink_t **res);

.SH "DESCRIPTION"
These functions parse Metalink file data and constructs metalink_t structure.
You don't have to allocate memory for metalink_t structure.
They take the pointer of metalink_t pointer and allocate memory for that pointer.

\fBmetalink_parse_file\fP() parses Metalink file denoted by \fIfilename\fP and constructs
metalink_t structure.

\fBmetalink_parse_fp\fP() reads data from file stream \fIdocfp\fP and construtcts metalink_t structure.

\fBmetalink_parse_fd\fP() reads data from file descriptor \fIdocfd\fP and constructs metalink_t structure.

\fBmetalink_parse_memory\fP() parses \fIlen\fP bytes of \fIbuf\fP and constructs metalink_t structure.

The caller must free the memory allocated for metalink_t structure using \fBmetalink_delete\fP(3) if it is no longer used.

.SH "RETURN VALUE"
All functions return 0 for success. When error occurred, non-zero value error code is returned and metalink_t structure is not allocated. The error codes are described in metalink_error.h.

.SH "SEE ALSO"
.BR metalink_delete (3),
.BR metalink_parse_update (3)
